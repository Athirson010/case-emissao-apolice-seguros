# ===========================================
# Order Application - Unified Configuration
# ===========================================
spring.application.name=order-application

# ===========================================
# PROFILES DISPON√çVEIS
# ===========================================
# - order-consumer: Consumer principal de processamento de pedidos
# - order-response-payment-consumer: Consumer de respostas de pagamento (escala independente)
# - order-response-insurance-consumer: Consumer de respostas de seguro (escala independente)
# ===========================================

# Server
server.port=8080
# MongoDB
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=insurance_db
spring.data.mongodb.username=admin
spring.data.mongodb.password=admin123
spring.data.mongodb.authentication-database=admin
# =========================
# Actuator & Observability
# =========================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

# Prometheus Metrics
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Distributed Tracing with OpenTelemetry
management.tracing.sampling.probability=1.0
management.otlp.tracing.endpoint=http://localhost:4318/v1/traces

# Application Info (visible in /actuator/info)
management.info.env.enabled=true
info.app.name=order-application
info.app.description=Sistema de Emissao de Apolices de Seguros
info.app.version=@project.version@
# =========================
# RabbitMQ Configuration
# =========================
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin
spring.rabbitmq.password=admin
spring.rabbitmq.virtual-host=/
rabbitmq.exchanges.order-integration=order.integration.exchange
rabbitmq.queues.order-consumer=order-service-consumer
rabbitmq.queues.insurance-response=order.insurance.response.queue
rabbitmq.queues.payment-response=order.payment.response.queue
rabbitmq.queues.payment-confirmation=order.payment.confirmation.queue
rabbitmq.queues.subscription-confirmation=order.subscription.confirmation.queue
rabbitmq.routing-keys.order=order.process
rabbitmq.routing-keys.insurance-response=insurance.response
rabbitmq.routing-keys.payment-response=payment.response
rabbitmq.routing-keys.payment-confirmation=payment.confirmation
rabbitmq.routing-keys.subscription-confirmation=subscription.confirmation
# =========================
# Kafka Configuration
# =========================
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
kafka.topic.insurance=insurance-topic
kafka.topic.order=order-topic
kafka.topic.payment=payment-topic