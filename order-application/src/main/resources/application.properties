# ===========================================
# Order Application - Unified Configuration
# ===========================================
# Este arquivo contém todas as configurações para ambos os profiles
# A separação de contextos é feita apenas pelos componentes com @Profile
#
# Profiles disponíveis:
#   - api: REST API para criação de apólices (porta 8080)
#   - fraud-consumer: Consumer SQS para análise de fraude (porta 8081)
#
# Para iniciar com um profile específico:
#   mvn spring-boot:run -Dspring-boot.run.profiles=api
#   mvn spring-boot:run -Dspring-boot.run.profiles=fraud-consumer
# ===========================================
# Application Configuration
spring.application.name=order-application
# Server Configuration
server.port=8080
# MongoDB Configuration
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=insurance_db
spring.data.mongodb.username=admin
spring.data.mongodb.password=admin123
spring.data.mongodb.authentication-database=admin
# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
# AWS LocalStack Configuration
aws.localstack.endpoint=http://localhost:4566
aws.region=us-east-1
aws.access-key=test
aws.secret-key=test
# SQS Configuration
aws.sqs.fraud-queue-name=order-service-fraud-consumer
# Spring Cloud AWS Configuration
spring.cloud.aws.region.static=${aws.region}
spring.cloud.aws.credentials.access-key=${aws.access-key}
spring.cloud.aws.credentials.secret-key=${aws.secret-key}
spring.cloud.aws.endpoint=${aws.localstack.endpoint}
# Spring Cloud AWS SQS Listener Configuration
spring.cloud.aws.sqs.listener.max-concurrent-messages=10
spring.cloud.aws.sqs.listener.max-messages-per-poll=10
spring.cloud.aws.sqs.listener.poll-timeout=20
# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
kafka.topic.order=order-topic
# Disable Spring Cloud AWS auto-configuration for manual control (SNS only)
# Disable Kafka auto-configuration - will be enabled only in fraud-consumer profile
spring.autoconfigure.exclude=\
  io.awspring.cloud.autoconfigure.sns.SnsAutoConfiguration,\
  org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration
